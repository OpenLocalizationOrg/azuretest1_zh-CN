---
ms.openlocfilehash: 28f2cb6810d903e6540abb02490256cfd74b2b58
ms.sourcegitcommit: bab1265d669c3e6871daa7cb8a5640a47104947a
translationtype: MT
---
<properties 
   pageTitle="如何管理服务配置和配置文件"
   description="了解如何使用服务的配置和配置文件配置文件 |其中存储的部署环境的设置并发布云服务的安全设置。"
   services="visual-studio-online"
   documentationCenter="na"
   authors="kempb"
   manager="douge"
   editor="tglee" />
<tags 
   ms.service="multiple"
   ms.devlang="dotnet"
   ms.topic="article"
   ms.tgt_pltfrm="na"
   ms.workload="multiple"
   ms.date="08/13/2015"
   ms.author="kempb" />

# 如何管理服务配置和配置文件

##概述

发布云服务时，Visual Studio 将配置信息存储在两种类型的配置文件︰ 服务的配置和配置文件。 服务配置 （.cscfg 文件） 存储设置 Azure 的云服务的部署环境。 在管理您的云服务时，azure 使用这些配置文件。 另一方面，配置文件 （.azurePubxml 文件） 存储发布云服务的安全设置。 这些设置包括︰ 当使用发布向导，并通过 Visual Studio 本地使用您选择的内容的记录。 本主题说明如何使用这两种类型的配置文件。

## 服务配置

您可以创建多个服务配置要用于每个部署环境。 例如，您可以创建服务配置用于运行和测试 Azure 应用程序，并为您的生产环境的另一个服务配置的本地环境。

您可以添加、 删除、 重命名和修改这些服务配置，根据您的要求。 下面的插图所示，您可以从 Visual Studio，管理这些服务的配置。

![管理服务配置](./media/vs-azure-tools-service-configurations-and-profiles-how-to-manage/manage-service-config.png)

您还可以从角色的属性页中打开**管理配置**对话框。 在 Azure 项目中打开一个角色的属性，打开快捷菜单，该角色，，然后选择**属性**。 在**设置**选项卡上，展开**服务配置**列表中，然后单击**管理**以打开**管理配置**对话框。

### 若要添加服务配置

1. 在解决方案资源管理器中打开 Azure 项目的快捷菜单，然后单击**管理配置**。 

    出现**管理服务配置**对话框。

1. 若要添加的服务配置，必须创建现有配置的副本。 为此，选择您想要复制名称列表中，然后单击**创建复制**的配置。

1. （可选）要为服务配置一个不同的名称，请从名称列表中选择新的服务配置，然后单击**重命名**。 在**名称**文本框中，键入您想要此服务配置为使用，然后单击**确定**的名称。

    被命名为服务配置新服务配置文件。<New Name>.cscfg 添加到解决方案资源管理器中的 Azure 项目。


### 若要删除服务配置

1. 在解决方案资源管理器，打开 Azure 项目的快捷菜单，然后单击**管理配置**。
    
    出现**管理服务配置**对话框。

1. 要删除服务配置，请选择您想要从**名称**列表中删除，然后单击**删除**配置。 出现一个对话框，以确认要删除此配置。

1. 单击**删除**。 
 
     从 Azure 项目在解决方案资源管理器中删除服务配置文件。


### 若要重命名服务配置

1. 在解决方案资源管理器，打开 Azure 项目的快捷菜单，然后单击**管理配置**。
 
    出现**管理服务配置**对话框。

1. 若要重命名的服务配置，请从**名称**列表中选择新的服务配置，然后单击**重命名**。 在**名称**文本框中，键入您想要此服务配置为使用，然后单击**确定**的名称。

    在 Azure 项目在解决方案资源管理器中更改服务配置文件的名称。

### 若要更改服务配置

- 如果您想要更改服务配置，打开快捷菜单的特定角色要在 Azure 项目中更改，然后单击属性。 请参阅[如何︰ 配置角色对于 Visual Studio Azure 云服务](https://msdn.microsoft.com/library/azure/hh369931.aspx)的详细信息。

## 使用配置文件进行设置不同组合

通过使用一个配置文件，可自动填充**发布向导**中的设置的不同组合用于不同的目的。 例如，您可以有一个配置文件以进行调试，另一个用于发布生成。 在这种情况下，**调试**配置文件者没有**IntelliTrace**启用和**调试**配置选择，并且您的**发布**配置文件会禁用**IntelliTrace**并选择**发布**配置。 您还可以使用不同的配置文件来部署服务使用不同的存储帐户。

当您首次运行向导时，创建一个默认配置文件。 Visual Studio 将配置文件存储在具有.azurePubXml 扩展，添加到 Azure 项目的**配置文件**文件夹下的文件。 如果在以后运行该向导时，手动指定了不同的选择，该文件将自动更新。 运行以下过程之前，应已发布云服务最少一次。

### 若要添加配置文件

1. 打开您 Azure 项目的快捷菜单，然后单击**发布**。

1. **目标配置文件**列表旁边，单击**保存配置文件**按钮，如下图所示。 这将为您创建一个配置文件。

    ![创建新的配置文件](./media/vs-azure-tools-service-configurations-and-profiles-how-to-manage/create-new-profile.png)

1. 创建配置文件后，单击**<...管理 >** **目标配置文件**列表中。 

    **管理配置文件**对话框出现，如下图所示。

    ![管理配置文件对话框](./media/vs-azure-tools-service-configurations-and-profiles-how-to-manage/manage-profiles.png)

1. 在**名称**列表中，选择一个配置文件，然后单击**创建副本**。

1. 选择**关闭**按钮。
 
    目标配置文件列表中将显示新配置文件。

1. 在**目标配置文件**列表中，单击刚才创建的配置文件。 发布向导设置填写所选配置文件中的选项。

1. 单击**上一步**和**下一步**按钮以显示发布向导中，每一页，然后自定义该配置文件的设置。 有关信息，请参见[发布 Azure 应用程序向导](http://go.microsoft.com/fwlink/p/?LinkID=623085)。

1. 完成自定义设置后，单击**下一步**要返回到设置页面。 当您通过使用这些设置来发布服务或旁边的配置文件列表中单击**保存**保存该配置文件。

### 若要重命名或删除配置文件

1. 打开您 Azure 项目的快捷菜单，然后单击**发布**。

1. 在**目标配置文件**列表中，单击**管理**。

1. 在**管理配置文件**对话框中，单击想要删除的配置文件，然后单击**删除**。

1. 在出现确认对话框中，单击**确定**。

1. 单击**关闭**。

### 若要更改配置文件

1. 打开您 Azure 项目的快捷菜单，然后单击**发布**。

1. 在**目标配置文件**列表中，单击要更改的配置文件。

1. 单击**上一步**和**下一步**按钮以显示每个页面的发布向导，然后更改所需的设置。 有关信息，请参见[发布 Azure 应用程序向导](http://go.microsoft.com/fwlink/p/?LinkID=623085)。

1. 完成更改设置后，单击**下一步**要返回到**设置**页面。

1. （可选）单击**发布**以发布在云服务使用新的设置。 如果不想这一次，发布您的云服务，并关闭发布向导，Visual Studio 将询问您是否要将更改保存到配置文件。

## 下一步行动

若要了解有关配置 Azure 从 Visual Studio 项目的其他部分，请参阅[配置 Azure 项目](http://go.microsoft.com/fwlink/p/?LinkID=623075)


测试
