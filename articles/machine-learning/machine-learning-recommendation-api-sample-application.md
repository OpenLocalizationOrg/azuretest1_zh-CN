---
ms.openlocfilehash: 28ad28cf4b5fe760df8744fa5fddf88067f466e8
ms.sourcegitcommit: bab1265d669c3e6871daa7cb8a5640a47104947a
translationtype: MT
---
<properties 
    pageTitle="机器学习建议 API 中的常见操作 |Microsoft Azure" 
    description="Azure ML 建议示例应用程序" 
    services="machine-learning" 
    documentationCenter="" 
    authors="jaymathe" 
    manager="paulettm" 
    editor="cgronlun"/>

<tags 
    ms.service="machine-learning" 
    ms.workload="data-services" 
    ms.tgt_pltfrm="na" 
    ms.devlang="na" 
    ms.topic="article" 
    ms.date="09/01/2015" 
    ms.author="luisca"/> 


# 机器学习建议 API 中的常见操作

##目的

本文档演示 Azure 机器学习建议 API 通过一个[示例应用程序](http://1drv.ms/1xeO2F3)的使用的情况。

此应用程序不应包括完整的功能，也不会使用所有的 Api。 它演示了一些常用操作执行时首先想要玩机器学习推荐服务。 

[AZURE.INCLUDE [machine-learning-free-trial](../../includes/machine-learning-free-trial.md)]

##机器学习建议服务简介

生成基于以下数据的推荐模型时，将启用通过机器学习建议服务的建议︰

* 您想要建议，也称为目录项的存储库
* 代表每个用户或会话 （这可以获取随时间通过数据采集，不能作为示例应用程序的一部分） 的项的使用情况数据

生成建议模型后，可以使用它来预测用户可能的项目感兴趣，根据项目 （或单项） 的一组用户选择。

若要使前一种情况下，执行下列操作中的机器学习建议服务︰

* 创建一个模型︰ 这是一种逻辑容器，用于放置数据 （目录和用法） 和预测模型。 通过创建时分配的唯一标识每个模型容器。 调用的模型 ID，此 ID，它被使用的 Api 的大多数。 
* 上载到目录︰ 模型容器创建时，您可以关联到该目录。

**注意**︰ 创建一个模型上, 传到目录通常执行一次的模型生命周期。

* 将上载用法︰ 将使用率数据添加到模型容器。
* 生成建议模型︰ 您有足够的数据后，您可以生成推荐模型。 此操作使用顶部的机器学习算法来创建建议模型。 每个版本都与一个唯一的 id。 您需要保留此 ID 的记录，因为它是所需的一些 Api 的功能。
* 监视生成过程︰ 建议模型生成异步操作，并且可能需要几分钟到几个小时，具体取决于数据 （目录和用法） 和生成参数的量。 因此，您需要监视生成。 仅当成功完成其关联的生成创建建议模型。
* （可选）选择活动建议模型生成︰ 此步骤才是必需的如果有内置的模型容器的多个建议模型。 通过默认活动生成系统自动重定向而不指示活动建议模型获取建议的任何请求。 

**注意**︰ 活动建议生产就绪状态和模型构建生产工作负载。 这不同于一个非活动建议模型，它将停留在类似于测试的环境中 （有时也称为转移）。

* 得到的建议︰ 建议模型后，可以触发单项或您选择的项列表的建议。 

通常会在某段时间内调用获取建议。 在该时间段内，可以将使用率数据到机器学习推荐系统中，将此数据添加到指定的模型容器重定向。 当有足够多的使用率数据时，您可以构建新建议模型包含附加使用率数据。 

##先决条件

* Visual Studio 2013 年
* 互联网访问 

##Azure 机器学习示例应用程序解决方案

此解决方案包含源代码，使用示例、 目录文件和指令下载所需的编译的软件包。

##使用 Api

应用程序使用 Api 的一部分通过机器学习建议功能。 在该应用程序演示了以下 Api:

* 创建模型︰ 创建一个逻辑容器，用于保存数据和建议的模型。 模型由一个名称，并且您不能创建具有相同名称的多个模型。
* 上载目录文件︰ 用于上载目录数据。
* 上载文件用法︰ 使用上载使用情况数据。
* 触发生成︰ 使用创建的推荐模型。
* 监视生成执行︰ 用于监视建议模型生成的状态。
* 选择建议的生成的模型︰ 用于指示哪些建议模型，默认情况下用于模型容器。 只有当您有多个建议模型，并且您想要激活非活动生成作为活动建议模型，此步骤是必需的。
* 获取建议︰ 用于检索根据给定的单个项目或一组项推荐的项目。 

有关 Api 的完整说明，请参阅 Microsoft Azure 市场文档。 

**注意**︰ 一个模型只能有几个版本随时间 （不是同时）。 每个版本使用相同或更新的目录和其他使用数据创建。

## 常见缺陷

* 您需要提供您的用户名和 Microsoft Azure 市场主帐户密钥来运行示例应用程序。
* 连续运行示例应用程序将失败。 应用程序流中包含创建、 上传、 建立显示器，和建议获得预定义的模型;因此，如果您没有更改模型名称调用之间，它将连续执行失败。
* 建议可能会返回不包含数据。 示例应用程序使用一个很小的目录和使用文件。 因此，目录中的一些项目将有没有推荐的项目。

## 免责声明
示例应用程序不应在生产环境中运行。 在目录中提供的数据是非常小，并不提供有意义的推荐模型。 为了说明提供数据。 
 

测试
