---
ms.openlocfilehash: e8624b01c518c9d65d5c5458f85f8411e7bc0465
ms.sourcegitcommit: bab1265d669c3e6871daa7cb8a5640a47104947a
translationtype: MT
---
<properties 
    pageTitle="服务总线 AMQP 概述 |Microsoft Azure" 
    description="了解如何使用高级消息队列协议 (AMQP) 1.0 Azure 中。" 
    services="service-bus" 
    documentationCenter=".net" 
    authors="sethmanheim" 
    manager="timlt" 
    editor="mattshel"/>

<tags 
    ms.service="service-bus" 
    ms.workload="tbd" 
    ms.tgt_pltfrm="na" 
    ms.devlang="multiple" 
    ms.topic="article" 
    ms.date="07/21/2015" 
    ms.author="sethm"/>



# AMQP 1.0 服务总线的支持

Azure 服务总线云服务和上 prem[服务总线的 Windows 服务器 (服务总线 1.1)](https://msdn.microsoft.com/library/dn282144.aspx)支持高级消息队列协议 (AMQP) 1.0。 AMQP 使您能够构建跨平台的混合应用程序使用开放的标准协议。 您可以构建使用的组件，使用不同的语言和框架，构建和运行在不同操作系统上的应用程序。 有效地和完全保真的，所有这些组件都可以连接到服务总线、 无缝地交换结构化的业务消息。

## 简介︰ AMQP 1.0 是什么和为什么很重要？

按惯例，面向消息的中间件产品的客户端应用程序和代理之间的通信使用专用协议。 这意味着，选择特定供应商的消息代理后，您必须使用该供应商的库连接到该代理客户端应用程序。 这将导致该供应商的依赖程度，因为应用程序移植到不同的产品需要在连接的所有应用程序中的代码更改。 

此外，连接来自不同供应商的消息经纪人是棘手的。 这通常需要将邮件从一个系统移动到另一个和其专有的消息格式之间进行转换，桥接应用程序级。 这是一个常见的要求;例如，当必须提供新的统一的接口，为旧的全异系统或集成后合并的 IT 系统。

软件行业是变化无常的业务;有时让人晕头转向的步调引入了新的编程语言和应用程序框架。 同样，随着时间的推移不断发展的 IT 系统的要求，开发人员希望利用新的平台功能。 但是，有时所选邮件服务供应商不支持这些平台。 由于消息传递协议是专有的不可能对其他人的这些新型平台提供库。 因此，您必须使用方法如建立网关，或者使您能够继续使用消息传递产品的桥梁。

开发的高级消息队列协议 (AMQP) 1.0 被为了引起这些问题。 它产生在 JP Morgan 跟踪，像大多数金融服务公司，是面向消息的中间件的大量用户。 目标很简单︰ 创建开放标准消息传递协议，因而可以构建使用组件使用不同的语言、 框架和操作系统中，构建基于消息的应用程序都使用来自一个供应商的范围的同类最佳的组件。

## AMQP 1.0 技术功能

AMQP 1.0 是可用来构建可靠、 跨平台的消息通讯应用程序高效、 可靠、 不是线级消息传递协议。 该协议具有简单的目标︰ 定义的安全、 可靠、 高效传输邮件的两个当事方之间的机制。 使用可移植的数据表示形式，使异构的发件人和接收方交换结构化的业务信息完全保真的在进行编码消息本身。 下面是最重要的功能的摘要︰

*    **高效**︰ AMQP 1.0 是面向连接的协议，则使用二进制编码协议说明和业务消息转移。 它采用了先进的流控制方案，以最大限度地利用网络和连接的组件。 话虽如此，但该协议旨在效率、 增加灵活性和互操作性之间的平衡。
*    **可靠性**︰ AMQP 1.0 协议允许邮件交换具有一系列的可靠性保证，从火灾一次性为可靠、 准确的一次确认交货。
*    **灵活**︰ AMQP 1.0 是一个灵活的协议，可用于支持不同的拓扑。 相同的协议可用于客户端到客户端、 客户端向经纪人和中介为中介的通信。
*    **中介模型独立于**︰ AMQP 1.0 技术指标不作任何要求上使用代理的消息传递模型。 这意味着它是可以很容易地将 AMQP 1.0 支持添加到现有消息传递的经纪人。

## AMQP 1.0 是一个标准 (以大写的)

AMQP 1.0 出演 2008 由核心组的 20 多个公司，因为开发技术供应商和最终用户公司。 这段时间内用户公司提供实际的业务需求和技术供应商已经发展的协议，以满足这些要求。 在整个过程中，供应商已经参加了它们合作以验证它们的实现之间的互操作性研讨会。

在 2011 年 10 月，在 2012 年 10 月发布转用技术委员会中进步的结构化信息标准 (OASIS) 和 OASIS AMQP 1.0 标准的组织开发工作。 下面的公司参加了技术委员会标准的开发过程︰

*    **技术供应商**︰ Axway 软件，华技术，必须把它放软件，INETCO 系统，Kaazing，微软，Mitre 公司、 Primeton 技术，进行软件，红色帽子，SITA，软件 AG、 Solace 系统、 VMware，WSO2、 Zenika。
*    **用户公司**︰ 美国银行、 瑞士信贷银行、 德国 Boerse、 Goldman Sachs，JPMorgan 跟踪。

一些常提及开放标准的好处包括︰

*    供应商锁定的机会更少
*    互操作性
*    库和工具的广泛应用
*    针对过时保护
*    知识员工的可用性
*    较低且易于管理的风险

## AMQP 1.0 和服务总线

在 Azure 服务总线 AMQP 1.0 支持功能意味着您现在可以利用服务总线队列和发布/订阅具有邮件功能从一系列平台使用高效的二进制协议。 此外，您可以生成应用程序使用的语言、 框架和操作系统组合构建的组件组成。

下图说明了的部署示例的 Java 客户端运行在 Linux 上，使用标准 Java 消息服务 (JMS) API 和.NET 客户端运行在 Windows 上，编写交换通过使用 AMQP 1.0 服务总线的消息。

![][0]

**图 1︰ 示例部署方案显示交叉平台消息传送使用服务总线和 AMQP 1.0**

这一次是已知下面的客户端库使用服务总线︰

| 语言 | 库                                                                       |
|----------|-------------------------------------------------------------------------------|
| Java     | Apache Qpid Java 消息服务 (JMS) 客户端<br/>必须把它放软件 SwiftMQ Java 客户端 |
| C        | Apache Qpid 质子-C                                                          |
| PHP      | Apache Qpid 质子 PHP                                                        |
| Python   | Apache Qpid 质子 Python                                                     |
| C#       | AMQP.Net 精简                                                                |

**图 2︰ 表的 AMQP 1.0 客户端库**

有关如何获取和使用服务总线使用这些库的详细信息，请参阅[服务总线 AMQP 开发人员指南 》][]。 请参阅下面的"参考"部分，有关的详细信息。

## 摘要

*    AMQP 1.0 是开放的、 可靠的消息传递协议可以用来构建跨平台的混合应用程序。 AMQP 1.0 是一个 OASIS 标准。
*    AMQP 1.0 支持现已在 Azure 服务总线，以及服务总线的 Windows 服务器 (服务总线 1.1) 提供。 定价是与现有的协议相同。

## 参考

*    [如何使用服务总线.NET API AMQP 1.0](http://aka.ms/lym3vk)
*    [如何使用 Java 消息服务 (JMS) API 服务总线和 AMQP 1.0](http://aka.ms/ll1fm3)
*    [服务总线 AMQP 开发人员指南 》](http://msdn.microsoft.com/library/jj841071.aspx)
*    [OASIS 高级消息队列协议 (AMQP) 版本 1.0 规范](http://docs.oasis-open.org/amqp/core/v1.0/os/amqp-core-complete-v1.0-os.pdf)

[0]: ./media/service-bus-amqp-overview/Example1.png
[服务总线 AMQP 开发人员指南 》]: http://msdn.microsoft.com/library/jj841071.aspx
